<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Strategy Backtester</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“ˆ Trading Strategy Backtester</h1>
            <p>Analyze historical stock data and backtest your trading strategies</p>
        </header>

        <div class="input-section">
            <div class="input-group">
                <input 
                    type="text" 
                    id="symbolInput" 
                    placeholder="Enter stock symbol (e.g., AAPL, SPY, MSFT)" 
                    autocomplete="off"
                />
                <button id="fetchBtn" onclick="fetchStockData()">
                    Fetch Data
                </button>
            </div>
            <div id="errorMessage" class="error-message"></div>
            <div id="loadingSpinner" class="loading-spinner">
                Loading data...
            </div>
        </div>

        <div id="resultSection" class="result-section">
            <div class="result-header">
                <h2 id="stockSymbol"></h2>
                <div id="dataCount"></div>
            </div>
            
            <div class="table-container">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th onclick="sortData('date')" class="sortable">Date</th>
                            <th onclick="sortData('open')" class="sortable">Open</th>
                            <th onclick="sortData('high')" class="sortable">High</th>
                            <th onclick="sortData('low')" class="sortable">Low</th>
                            <th onclick="sortData('close')" class="sortable">Close</th>
                            <th>Daily Change</th>
                            <th onclick="sortData('volume')" class="sortable">Volume</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Data will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>